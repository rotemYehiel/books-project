{"remainingRequest":"C:\\Users\\rotem\\OneDrive\\שולחן העבודה\\vue.js\\my-project\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\rotem\\OneDrive\\שולחן העבודה\\vue.js\\my-project\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\rotem\\OneDrive\\שולחן העבודה\\vue.js\\my-project\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\rotem\\OneDrive\\שולחן העבודה\\vue.js\\my-project\\frontend\\src\\views\\bookEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\rotem\\OneDrive\\שולחן העבודה\\vue.js\\my-project\\frontend\\src\\views\\bookEdit.vue","mtime":1591766039337},{"path":"C:\\Users\\rotem\\OneDrive\\שולחן העבודה\\vue.js\\my-project\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\rotem\\OneDrive\\שולחן העבודה\\vue.js\\my-project\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\rotem\\OneDrive\\שולחן העבודה\\vue.js\\my-project\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\rotem\\OneDrive\\שולחן העבודה\\vue.js\\my-project\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvcm90ZW0vT25lRHJpdmUvXHUwNUU5XHUwNUQ1XHUwNURDXHUwNUQ3XHUwNURGIFx1MDVENFx1MDVFMlx1MDVEMVx1MDVENVx1MDVEM1x1MDVENC92dWUuanMvbXktcHJvamVjdC9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IHVwbG9hZEltZyB9IGZyb20gIi4uL3NlcnZpY2VzL2Nsb3VkaW5hcnkuc2VydmljZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiYm9va0VkaXQiLAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBib29rSWQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBib29rSWQgPSBfdGhpcy4kcm91dGUucGFyYW1zLmlkOwoKICAgICAgICAgICAgICBpZiAoIShib29rSWQgPT09ICJlZGl0IikpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKHsKICAgICAgICAgICAgICAgIHR5cGU6ICJsb2FkQm9vayIKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKHsKICAgICAgICAgICAgICAgIHR5cGU6ICJsb2FkQm9vayIsCiAgICAgICAgICAgICAgICBib29rSWQ6IGJvb2tJZAogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGN1cnJCb29rOiBmdW5jdGlvbiBjdXJyQm9vaygpIHsKICAgICAgdmFyIGN1cnJCb29rID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5jdXJyQm9vazsKICAgICAgdmFyIGNvcHlCb29rID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjdXJyQm9vaykpOwogICAgICByZXR1cm4gY29weUJvb2s7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBhZGRJbWFnZTogZnVuY3Rpb24gYWRkSW1hZ2UoZXYpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB1cGxvYWRJbWcoZXYpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi5jdXJyQm9vay50aHVtYm5haWwgPSByZXMudXJsOwogICAgICB9KTsKICAgIH0sCiAgICBhZGRDYXRlZ29yaWVzOiBmdW5jdGlvbiBhZGRDYXRlZ29yaWVzKGV2KSB7CiAgICAgIHRoaXMuY3VyckJvb2suY2F0ZWdvcmllcy5wdXNoKGV2LnRhcmdldC52YWx1ZSk7CiAgICB9LAogICAgYWRkQXV0aG9yOiBmdW5jdGlvbiBhZGRBdXRob3IoZXYpIHsKICAgICAgdGhpcy5jdXJyQm9vay5hdXRob3JzLnB1c2goZXYudGFyZ2V0LnZhbHVlKTsKICAgIH0sCiAgICBlZGl0Qm9vazogZnVuY3Rpb24gZWRpdEJvb2soKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuJHN0b3JlLmRpc3BhdGNoKHsKICAgICAgICAgICAgICAgICAgdHlwZTogInNhdmVCb29rIiwKICAgICAgICAgICAgICAgICAgYm9vazogX3RoaXMzLmN1cnJCb29rCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3RoaXMzLiRyb3V0ZXIucHVzaCgiLyIpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["bookEdit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA,SAAA,SAAA,QAAA,gCAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,OAFA,qBAEA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,cAAA,MADA,GACA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EADA;;AAAA,oBAEA,MAAA,KAAA,MAFA;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAGA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA;AAAA,gBAAA,IAAA,EAAA;AAAA,eAAA,CAHA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,qBAKA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA;AAAA,gBAAA,IAAA,EAAA,UAAA;AAAA,gBAAA,MAAA,EAAA;AAAA,eAAA,CALA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA,GATA;AAUA,EAAA,QAAA,EAAA;AACA,IAAA,QADA,sBACA;AACA,UAAA,QAAA,GAAA,KAAA,MAAA,CAAA,OAAA,CAAA,QAAA;AACA,UAAA,QAAA,GAAA,IAAA,CAAA,KAAA,CAAA,IAAA,CAAA,SAAA,CAAA,QAAA,CAAA,CAAA;AACA,aAAA,QAAA;AACA;AALA,GAVA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,oBACA,EADA,EACA;AAAA;;AACA,MAAA,SAAA,CAAA,EAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,SAAA,GAAA,GAAA,CAAA,GAAA;AACA,OAFA;AAGA,KALA;AAMA,IAAA,aANA,yBAMA,EANA,EAMA;AACA,WAAA,QAAA,CAAA,UAAA,CAAA,IAAA,CAAA,EAAA,CAAA,MAAA,CAAA,KAAA;AACA,KARA;AASA,IAAA,SATA,qBASA,EATA,EASA;AACA,WAAA,QAAA,CAAA,OAAA,CAAA,IAAA,CAAA,EAAA,CAAA,MAAA,CAAA,KAAA;AACA,KAXA;AAYA,IAAA,QAZA,sBAYA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,MAAA,CAAA,MAAA,CAAA,QAAA,CAAA;AAAA,kBAAA,IAAA,EAAA,UAAA;AAAA,kBAAA,IAAA,EAAA,MAAA,CAAA;AAAA,iBAAA,CADA;;AAAA;AAEA,gBAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAfA;AAjBA,CAAA","sourcesContent":["<template>\r\n  <div v-if=\"currBook\" class=\"book-edit\">\r\n    <h1>{{(currBook.id)? 'Edit' : 'Add'}} Book</h1>\r\n    <form class=\"flex direction-column align-center space-around\" @submit.prevent=\"editBook\">\r\n      <label>Enter book title:</label>\r\n      <input type=\"text\" v-model=\"currBook.title\" placeholder=\"enter book name...\" />\r\n\r\n      <label>Enter subtitle:</label>\r\n      <input type=\"text\" v-model=\"currBook.subtitle\" placeholder=\"enter book subtitle...\" />\r\n\r\n      <label>Enter authors:</label>\r\n      <input type=\"text\" @change=\"addAuthor\" placeholder=\"enter book authors...\" />\r\n\r\n      <label>Enter published year:</label>\r\n      <input type=\"number\" v-model=\"currBook.publishedDate\" placeholder=\"enter published year...\" />\r\n\r\n      <label>Enter description:</label>\r\n      <input type=\"text\" v-model=\"currBook.description\" placeholder=\"enter description...\" />\r\n\r\n      <label>Enter number of pages:</label>\r\n      <input type=\"number\" v-model=\"currBook.pageCount\" placeholder=\"enter number of pages...\" />\r\n\r\n      <label>Categories:</label>\r\n      <select @change=\"addCategories\" id=\"type\">\r\n        <option value=\"Computers\">Computers</option>\r\n        <option value=\"Hack\">Hack</option>\r\n        <option value=\"Adult\">Adult</option>\r\n      </select>\r\n\r\n      <label for=\"img\">Enter book picture:</label>\r\n      <input\r\n        @change=\"addImage\"\r\n        type=\"file\"\r\n        id=\"book-img\"\r\n        name=\"currBook.thumbnail\"\r\n        accept=\"image/*\"\r\n      />\r\n\r\n      <label>Book language:</label>\r\n      <select v-model=\"currBook.language\" id=\"type\">\r\n        <option value=\"en\">English</option>\r\n        <option value=\"HE\">Hebrow</option>\r\n        <option value=\"sp\">Spanish</option>\r\n      </select>\r\n\r\n      <label>Enter price:</label>\r\n      <input type=\"number\" v-model=\"currBook.listPrice.amount\" />\r\n      <select v-model=\"currBook.listPrice.currencyCode\" id=\"type\">\r\n        <option value=\"EUR\">EUR</option>\r\n        <option value=\"ILS\">ILS</option>\r\n        <option value=\"USD\">USD</option>\r\n      </select>\r\n      On sale?\r\n      <input type=\"checkbox\" id=\"isOnSale\" v-model=\"currBook.listPrice.isOnSale\" />\r\n\r\n      <button>{{(currBook.id)? 'Edit' : 'Add'}}</button>\r\n    </form>\r\n\r\n    <pre>{{currBook}}</pre>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { uploadImg } from \"../services/cloudinary.service\";\r\n\r\nexport default {\r\n  name: \"bookEdit\",\r\n  async created() {\r\n    const bookId = this.$route.params.id;\r\n    if (bookId === \"edit\") {\r\n      await this.$store.dispatch({ type: \"loadBook\" });\r\n    } else {\r\n      await this.$store.dispatch({ type: \"loadBook\", bookId });\r\n    }\r\n  },\r\n  computed: {\r\n    currBook() {\r\n      const currBook = this.$store.getters.currBook;\r\n      const copyBook = JSON.parse(JSON.stringify(currBook));\r\n      return copyBook;\r\n    }\r\n  },\r\n  methods: {\r\n    addImage(ev) {\r\n      uploadImg(ev).then(res => {\r\n        this.currBook.thumbnail = res.url;\r\n      });\r\n    },\r\n    addCategories(ev) {\r\n      this.currBook.categories.push(ev.target.value);\r\n    },\r\n    addAuthor(ev) {\r\n      this.currBook.authors.push(ev.target.value);\r\n    },\r\n    async editBook() {\r\n      await this.$store.dispatch({ type: \"saveBook\", book: this.currBook });\r\n      this.$router.push(\"/\");\r\n    }\r\n  }\r\n};\r\n</script>"],"sourceRoot":"src/views"}]}