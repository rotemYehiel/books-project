{"remainingRequest":"C:\\Users\\rotem\\OneDrive\\שולחן העבודה\\vue.js\\my-project\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\rotem\\OneDrive\\שולחן העבודה\\vue.js\\my-project\\frontend\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\rotem\\OneDrive\\שולחן העבודה\\vue.js\\my-project\\frontend\\src\\store\\book.store.js","dependencies":[{"path":"C:\\Users\\rotem\\OneDrive\\שולחן העבודה\\vue.js\\my-project\\frontend\\src\\store\\book.store.js","mtime":1591767649460},{"path":"C:\\Users\\rotem\\OneDrive\\שולחן העבודה\\vue.js\\my-project\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\rotem\\OneDrive\\שולחן העבודה\\vue.js\\my-project\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\rotem\\OneDrive\\שולחן העבודה\\vue.js\\my-project\\frontend\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL3JvdGVtL09uZURyaXZlL1x1MDVFOVx1MDVENVx1MDVEQ1x1MDVEN1x1MDVERiBcdTA1RDRcdTA1RTJcdTA1RDFcdTA1RDVcdTA1RDNcdTA1RDQvdnVlLmpzL215LXByb2plY3QvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgYm9va1NlcnZpY2UgZnJvbSAnQC9zZXJ2aWNlcy9ib29rLnNlcnZpY2UuanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgc3RhdGU6IHsKICAgIGJvb2tzOiBbXSwKICAgIGZpbHRlckJ5OiB7CiAgICAgIG5hbWU6ICcnCiAgICB9LAogICAgY3VyckJvb2s6IG51bGwKICB9LAogIGdldHRlcnM6IHsKICAgIGJvb2tzOiBmdW5jdGlvbiBib29rcyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuYm9va3M7CiAgICB9LAogICAgdGFnczogZnVuY3Rpb24gdGFncyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUudGFnczsKICAgIH0sCiAgICBjdXJyQm9vazogZnVuY3Rpb24gY3VyckJvb2soc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmN1cnJCb29rOwogICAgfSwKICAgIGZpbHRlckJ5OiBmdW5jdGlvbiBmaWx0ZXJCeShzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuZmlsdGVyQnk7CiAgICB9CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIHNldEJvb2tzOiBmdW5jdGlvbiBzZXRCb29rcyhzdGF0ZSwgX3JlZikgewogICAgICB2YXIgYm9va3MgPSBfcmVmLmJvb2tzOwogICAgICBzdGF0ZS5ib29rcyA9IGJvb2tzOwogICAgfSwKICAgIHNldEJvb2s6IGZ1bmN0aW9uIHNldEJvb2soc3RhdGUsIF9yZWYyKSB7CiAgICAgIHZhciBib29rID0gX3JlZjIuYm9vazsKICAgICAgY29uc29sZS5sb2coJ2Jvb2sgaW4gc2V0Qm9vazonLCBib29rKTsKICAgICAgc3RhdGUuY3VyckJvb2sgPSBib29rOwogICAgfSwKICAgIC8vIHVuc2V0Qm9vayhzdGF0ZSkgewogICAgLy8gICAgIHN0YXRlLmN1cnJCb29rID0gbnVsbDsKICAgIC8vIH0sCiAgICAvLyBzZXRGaWx0ZXJCeShzdGF0ZSwgeyBmaWx0ZXJCeSB9KSB7CiAgICAvLyAgICAgc3RhdGUuZmlsdGVyQnkgPSBmaWx0ZXJCeTsKICAgIC8vIH0sCiAgICBhZGRCb29rOiBmdW5jdGlvbiBhZGRCb29rKHN0YXRlLCBfcmVmMykgewogICAgICB2YXIgYm9vayA9IF9yZWYzLmJvb2s7CiAgICAgIHN0YXRlLmJvb2tzLnVuc2hpZnQoYm9vayk7CiAgICB9LAogICAgcmVtb3ZlQm9vazogZnVuY3Rpb24gcmVtb3ZlQm9vayhzdGF0ZSwgX3JlZjQpIHsKICAgICAgdmFyIGJvb2tJZCA9IF9yZWY0LmJvb2tJZDsKICAgICAgdmFyIGlkeCA9IHN0YXRlLmJvb2tzLmZpbmRJbmRleChmdW5jdGlvbiAoYm9vaykgewogICAgICAgIHJldHVybiBib29rLmlkID09PSBib29rSWQ7CiAgICAgIH0pOwogICAgICBpZiAoaWR4ID09PSAtMSkgcmV0dXJuOwogICAgICBzdGF0ZS5ib29rcy5zcGxpY2UoaWR4LCAxKTsKICAgIH0sCiAgICB1cGRhdGVCb29rOiBmdW5jdGlvbiB1cGRhdGVCb29rKHN0YXRlLCBfcmVmNSkgewogICAgICB2YXIgYm9vayA9IF9yZWY1LmJvb2s7CiAgICAgIHZhciBpZHggPSBzdGF0ZS5ib29rcy5maW5kSW5kZXgoZnVuY3Rpb24gKGN1cnJCb29rKSB7CiAgICAgICAgcmV0dXJuIGN1cnJCb29rLmlkID09PSBib29rLmlkOwogICAgICB9KTsKICAgICAgaWYgKGlkeCA9PT0gLTEpIHJldHVybjsKICAgICAgc3RhdGUuYm9va3Muc3BsaWNlKGlkeCwgMSwgYm9vayk7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBsb2FkQm9va3M6IGZ1bmN0aW9uIGxvYWRCb29rcyhjb250ZXh0KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGJvb2tzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGJvb2tTZXJ2aWNlLnF1ZXJ5KGNvbnRleHQuZ2V0dGVycy5maWx0ZXJCeSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGJvb2tzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdib29rcyBpbiBzdG9yZTonLCBib29rcykKICAgICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KHsKICAgICAgICAgICAgICAgICAgdHlwZTogJ3NldEJvb2tzJywKICAgICAgICAgICAgICAgICAgYm9va3M6IGJvb2tzCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGJvb2tzKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRCb29rOiBmdW5jdGlvbiBsb2FkQm9vayhjb250ZXh0LCBfcmVmNikgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgYm9va0lkLCBib29rOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBib29rSWQgPSBfcmVmNi5ib29rSWQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnYm9va0lkIGluIHN0b3I6JywgYm9va0lkKTsKCiAgICAgICAgICAgICAgICBpZiAoIWJvb2tJZCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBib29rU2VydmljZS5nZXRCeUlkKGJvb2tJZCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA5OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IGJvb2tTZXJ2aWNlLmdldEVtcHR5Qm9vaygpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBib29rID0gX2NvbnRleHQyLnQwOwogICAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoewogICAgICAgICAgICAgICAgICB0eXBlOiAnc2V0Qm9vaycsCiAgICAgICAgICAgICAgICAgIGJvb2s6IGJvb2sKICAgICAgICAgICAgICAgIH0pOyAvLyBjb25zb2xlLmxvZygnYm9vayBpbiBzdG9yZTonLCBib29rKQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBib29rKTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vICAgICBzZXRGaWx0ZXJCeShjb250ZXh0LCBwYXlsb2FkKSB7CiAgICAvLyAgICAgICAgIGNvbnRleHQuY29tbWl0KHBheWxvYWQpOwogICAgLy8gICAgICAgICByZXR1cm4gY29udGV4dC5kaXNwYXRjaCh7IHR5cGU6ICdsb2FkU3RhdGlvbnMnIH0pOwogICAgLy8gICAgIH0sCiAgICBzYXZlQm9vazogZnVuY3Rpb24gc2F2ZUJvb2soY29udGV4dCwgX3JlZjcpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIGJvb2ssIGlzVXBkYXRlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBib29rID0gX3JlZjcuYm9vazsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGJvb2spOwogICAgICAgICAgICAgICAgaXNVcGRhdGUgPSAhIWJvb2suX2lkOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGJvb2tTZXJ2aWNlLnNhdmUoYm9vayk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIGJvb2sgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIGlmIChpc1VwZGF0ZSkgY29udGV4dC5jb21taXQoewogICAgICAgICAgICAgICAgICB0eXBlOiAndXBkYXRlQm9vaycsCiAgICAgICAgICAgICAgICAgIGJvb2s6IGJvb2sKICAgICAgICAgICAgICAgIH0pO2Vsc2UgY29udGV4dC5jb21taXQoewogICAgICAgICAgICAgICAgICB0eXBlOiAnYWRkQm9vaycsCiAgICAgICAgICAgICAgICAgIGJvb2s6IGJvb2sKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIGJvb2spOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICByZW1vdmVCb29rOiBmdW5jdGlvbiByZW1vdmVCb29rKGNvbnRleHQsIF9yZWY4KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciBib29rSWQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGJvb2tJZCA9IF9yZWY4LmJvb2tJZDsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBib29rU2VydmljZS5yZW1vdmUoYm9va0lkKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoewogICAgICAgICAgICAgICAgICB0eXBlOiAncmVtb3ZlQm9vaycsCiAgICAgICAgICAgICAgICAgIGJvb2tJZDogYm9va0lkCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["C:/Users/rotem/OneDrive/שולחן העבודה/vue.js/my-project/frontend/src/store/book.store.js"],"names":["bookService","state","books","filterBy","name","currBook","getters","tags","mutations","setBooks","setBook","book","console","log","addBook","unshift","removeBook","bookId","idx","findIndex","id","splice","updateBook","actions","loadBooks","context","query","commit","type","loadBook","getById","getEmptyBook","saveBook","isUpdate","_id","save","remove"],"mappings":"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","sourcesContent":["import bookService from '@/services/book.service.js';\r\n\r\nexport default {\r\n    state: {\r\n        books: [],\r\n        filterBy: {\r\n            name: '',\r\n        },\r\n        currBook: null,\r\n    },\r\n    getters: {\r\n        books(state) {\r\n            return state.books;\r\n        },\r\n        tags(state) {\r\n            return state.tags;\r\n        },\r\n        currBook(state) {\r\n            return state.currBook;\r\n        },\r\n        filterBy(state) {\r\n            return state.filterBy;\r\n        },\r\n    },\r\n    mutations: {\r\n        setBooks(state, { books }) {\r\n            state.books = books;\r\n        },\r\n        setBook(state, { book }) {\r\n            console.log('book in setBook:', book)\r\n            state.currBook = book;\r\n        },\r\n        // unsetBook(state) {\r\n        //     state.currBook = null;\r\n        // },\r\n        // setFilterBy(state, { filterBy }) {\r\n        //     state.filterBy = filterBy;\r\n        // },\r\n        addBook(state, { book }) {\r\n            state.books.unshift(book);\r\n        },\r\n        removeBook(state, { bookId }) {\r\n            const idx = state.books.findIndex(book => book.id === bookId);\r\n            if (idx === -1) return;\r\n            state.books.splice(idx, 1);\r\n        },\r\n        updateBook(state, { book }) {\r\n            const idx = state.books.findIndex(currBook => currBook.id === book.id);\r\n            if (idx === -1) return;\r\n            state.books.splice(idx, 1, book);\r\n        },\r\n\r\n    },\r\n    actions: {\r\n        async loadBooks(context) {\r\n            // console.log(context.getters.filterBy)\r\n            const books = await bookService.query(context.getters.filterBy);\r\n            // console.log('books in store:', books)\r\n            context.commit({ type: 'setBooks', books });\r\n            return books;\r\n        },\r\n        async loadBook(context, { bookId }) {\r\n            console.log('bookId in stor:', bookId)\r\n            const book = (bookId) ? await bookService.getById(bookId) : bookService.getEmptyBook();\r\n            context.commit({ type: 'setBook', book });\r\n            // console.log('book in store:', book)\r\n            return book;\r\n        },\r\n        //     setFilterBy(context, payload) {\r\n        //         context.commit(payload);\r\n        //         return context.dispatch({ type: 'loadStations' });\r\n        //     },\r\n        async saveBook(context, { book }) {\r\n            console.log(book)\r\n            const isUpdate = !!book._id;\r\n            book = await bookService.save(book);\r\n            if (isUpdate) context.commit({ type: 'updateBook', book });\r\n            else context.commit({ type: 'addBook', book });\r\n            return book;\r\n        },\r\n        async removeBook(context, { bookId }) {\r\n            await bookService.remove(bookId);\r\n            context.commit({ type: 'removeBook', bookId });\r\n        },\r\n\r\n    }\r\n}"]}]}